# CSS

## vertical-align

用来指定行内元素（inline）或表格单元格（table-cell）元素的垂直对齐方式。

- **baseline（默认值）**：元素放置在父元素的基线上
- top：把元素的顶端与行中最高元素的顶端对齐
- middle：把此元素放置在父元素的中部 
- bottom：把元素的顶端与行中最低的元素的顶端对齐

使用场景：将图片或表单元素（行内块）和文字垂直居中。即 `vertical-align:middle`。

![](CSSNotes.assets/vertical-align.png)

baseline 都是谁呢？

- 文本的 baseline 是字母 x 的下方
- inline-block 默认的 baseline 是 margin-bottom 的底部（没有，则是盒子的底部）
- inline-block 有文本时，baseline 是最后一行文本的字母 x 的下方

## 回流与重绘

**什么是回流（重排，reflow）？**

当一个元素自身的宽高、布局、显示或隐藏，或元素内部的文字**结构发生变化**，需要**重新构建页面**时，就产生了 **回流（重排）**。

- 回流会导致渲染树需要重新计算，开销比重绘大，所以我们要尽量避免回流的产生

- 重绘不一定需要回流，回流必然会导致重绘

**什么时候会进行回流？**

- 添加或者删除可见的 DOM 元素的时候
- 元素的位置、尺寸发生改变
- 内容发生改变（文字数量或图片大小等等）
- 元素字体大小变化
- 设置style属性
- 激活CSS伪类（例如：:hover）
- 浏览器窗口尺寸改变
- 页面第一次渲染的时候，所有组件都要进行首次布局，这是开销最大的一次回流

**什么是重绘（repaint）？**

是在一个元素的外观被改变所触发的浏览器行为，浏览器会根据元素的新属性重新绘制，使元素呈现新的外观

**什么时候会进行重绘？**

列举一些相关的 CSS 样式：color、background、background-size、visibility、box-shadow



## 浏览器是怎样解析CSS选择器？

CSS选择器的解析是<strong style="color:orange">从右向左</strong>（又称自底向上）解析的。

- 若从左向右的匹配，发现不符合规则，需要进行回溯，会损失很多性能。

- 若从右向左匹配，先找到所有的最右节点，对于每一个节点，向上寻找其父节点直到找到根元素或满足条件的匹配规则，则结束这个分支的遍历。

两种匹配规则的性能差别很大，是因为从右向左的匹配在第一步就筛选掉了大量的不符合条件的最右节点（叶子节点），而从左向右的匹配规则的性能都浪费在了失败的查找上面。

- 因为有公共节点，从右到左，只要有公共，就能共用，这样公共样式就很容易集合到同一分支上

[参考文章](https://blog.csdn.net/Android_boom/article/details/129584898)



## 表单中 readonly 和 disabled 的区别

- 共同点：能够使用户不能改变表单中的内容

- 不同点：
  1. readonly 只对 **input** 和 **textarea** 有效，但是 disabled 对所有的表单元素都是有效的，包括radio、checkbox
  2. readonly 可以获取到焦点，只是不能修改。disabled 设置的文本框无法获取焦点
  3. 如果表单的字段是 disabled，则该字段不会发送（表单传值）和序列化



## 如何实现浏览器响应式布局？

- 使用媒体查询（@media）

- 使用 flex 弹性布局

- 使用百分比单位

- 使用 rem 单位

  rem 是相对长度单位。是根元素（html）的 font-size 值的的一个 css 单位（适配单位rem）

- 使用 vh、vw 单位

  - vw : 相对于视口的宽度，1vw 等于视口宽度的1%（总视口宽度为100vw）
  - vh : 相对于视口的高度， 1vh 等于视口高度的1%（总视口高度为100vh）
  - vmin : 选取 vw 和 vh 中最小的那个
  - vmax : 选取 vw 和 vh 中最大的那个
    `提示：横屏时要交换视口单位哦~`

- rem 和 em 都是css中的相对长度单位，他们的区别就是，rem是相对于根元素字体大小进行计算的，任意浏览器的默认字体都是16px，所以一般 1rem = 16px。