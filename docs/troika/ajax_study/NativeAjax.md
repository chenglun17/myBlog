# ä¸€ã€åŸç”Ÿ AJAX

## 1.AJAX ç®€ä»‹

**AJAX ï¼ˆAsynchronous JavaScript And XMLï¼‰**ï¼Œå³ **å¼‚æ­¥çš„ JavaScript å’Œ XML**

åœ¨ç½‘é¡µä¸­åˆ©ç”¨ XMLHttpRequest å¯¹è±¡å’ŒæœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤äº’çš„æ–¹å¼ï¼Œå°±æ˜¯ AJAX

é€šè¿‡ AJAX å¯ä»¥åœ¨æµè§ˆå™¨ä¸­é¢å‘æœåŠ¡å™¨å‘ç”Ÿå¼‚æ­¥è¯·æ±‚ï¼Œæœ€å¤§ä¼˜åŠ¿ï¼š<strong style="color:#DD5145">æ— åˆ·æ–°è·å–æ•°æ®</strong>

Ajax ä¸æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºæ›´å¥½æ›´å¿«ä»¥åŠäº¤äº’æ€§æ›´å¼ºçš„ Web åº”ç”¨ç¨‹åºçš„æŠ€æœ¯ã€‚

- åŒæ­¥äº¤äº’: å®¢æˆ·ç«¯å‘å‡ºä¸€ä¸ªè¯·æ±‚åï¼Œéœ€è¦ç­‰å¾…æœåŠ¡å™¨å“åº”ç»“æŸåï¼Œæ‰èƒ½å‘å‡ºç¬¬äºŒä¸ªè¯·æ±‚ã€‚
- å¼‚æ­¥äº¤äº’: å®¢æˆ·ç«¯å‘å‡ºä¸€ä¸ªè¯·æ±‚åï¼Œæ— éœ€ç­‰å¾…æœåŠ¡å™¨å“åº”ç»“æŸï¼Œå°±å¯ä»¥å‘å‡ºç¬¬äºŒä¸ªè¯·æ±‚ã€‚

**AJAX çš„ç‰¹ç‚¹ï¼š**

AJAX çš„ä¼˜ç‚¹ï¼š

> - å¯ä»¥**æ— éœ€åˆ·æ–°**é¡µé¢è€Œä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡
> - è¿è¡Œä½ æ ¹æ®ç”¨æˆ·äº‹ä»¶æ¥**æ›´æ–°éƒ¨åˆ†é¡µé¢**å†…å®¹

AJAX çš„ç¼ºç‚¹ï¼š

> - æ²¡æœ‰æµè§ˆå†å²ï¼Œä¸èƒ½å›é€€
>
> - å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼ˆåŒæºï¼‰
>
> - **SEOï¼ˆSearch Engine Optimizationï¼Œæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰** ä¸å‹å¥½
>
>   ç›®çš„æ˜¯è®©æœç´¢å¼•æ“çš„çˆ¬è™«æ›´å®¹æ˜“æ”¶é›†åˆ°ä½ ç½‘ç«™çš„å†…å®¹ï¼Œå¹¶æŠŠå®ƒä»¬ç¼–å†™è¿›è‡ªå·±çš„ç´¢å¼•åº“ä¸­

## 2.XMLHttpRequest

`XMLHttpRequest`ï¼ˆXHRï¼‰å¯¹è±¡ç”¨äºä¸æœåŠ¡å™¨äº¤äº’ã€‚é€šè¿‡ XMLHttpRequest å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹è¯·æ±‚ç‰¹å®š URLï¼Œè·å–æ•°æ®ã€‚è¿™å…è®¸ç½‘é¡µåœ¨ä¸å½±å“ç”¨æˆ·æ“ä½œçš„æƒ…å†µä¸‹ï¼Œæ›´æ–°é¡µé¢çš„å±€éƒ¨å†…å®¹ã€‚`XMLHttpRequest` åœ¨ AJAX ç¼–ç¨‹ä¸­è¢«å¤§é‡ä½¿ç”¨ã€‚

**XML ç®€ä»‹**

> **XMLï¼ˆExtensible Markup Languageï¼‰ å¯æ‰©å±•æ ‡è®°è¯­è¨€**ï¼Œè¢«è®¾è®¡ç”¨æ¥ **ä¼ è¾“å’Œå­˜å‚¨æ•°æ®**
>
> XML å’Œ HTML ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ HTML ä¸­éƒ½æ˜¯é¢„å®šä¹‰æ ‡ç­¾ï¼Œè€Œ **XML ä¸­æ²¡æœ‰é¢„å®šä¹‰æ ‡ç­¾**

## 3.XMLHttpRequest API

MDNæ–‡æ¡£ï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest

### æ„é€ å‡½æ•°

```js
const request = new XMLHttpRequest()
```

### å®ä¾‹å±æ€§

- <strong style="color:#DD5145">status</strong>ï¼šå“åº”çŠ¶æ€ç å€¼ï¼Œå¦‚ 200ã€404 ç­‰ã€‚

- **statusText**ï¼šå“åº”çš„å…·ä½“å†…å®¹æ˜¯å­—ç¬¦ä¸²ï¼Œä¸€èˆ¬æ˜¯ json å­—ç¬¦ä¸²ã€‚

- <strong style="color:#DD5145">readyState</strong>ï¼šè¿”å›ä¸€ä¸ª XMLHttpRequest ä»£ç†å½“å‰æ‰€å¤„çš„çŠ¶æ€ã€‚

  | å€¼   | çŠ¶æ€               | æè¿°                                                |
  | :--- | :----------------- | :-------------------------------------------------- |
  | `0`  | `UNSENT`           | ä»£ç†è¢«åˆ›å»ºï¼Œä½†å°šæœªè°ƒç”¨ open() æ–¹æ³•ã€‚                |
  | `1`  | `OPENED`           | `open()` æ–¹æ³•å·²ç»è¢«è°ƒç”¨ã€‚                           |
  | `2`  | `HEADERS_RECEIVED` | `send()` æ–¹æ³•å·²ç»è¢«è°ƒç”¨ï¼Œå¹¶ä¸”å¤´éƒ¨å’ŒçŠ¶æ€å·²ç»å¯è·å¾—ã€‚ |
  | `3`  | `LOADING`          | ä¸‹è½½ä¸­ï¼›`responseText` å±æ€§å·²ç»åŒ…å«éƒ¨åˆ†æ•°æ®ã€‚       |
  | `4`  | `DONE`             | ä¸‹è½½æ“ä½œå·²å®Œæˆã€‚                                    |

- <strong style="color:#DD5145">response</strong>ï¼š`XMLHttpRequest` çš„ `response` å±æ€§è¿”å›å“åº”çš„æ­£æ–‡ã€‚è¿”å›çš„ç±»å‹ä¸º `ArrayBuffer`ã€`Blob`ã€`Document`ã€`JavaScript Object` æˆ–å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªã€‚è¿™å–å†³äºè¯·æ±‚çš„ `responseType` å±æ€§ã€‚

- **responseText**ï¼šåœ¨ä¸€ä¸ªè¯·æ±‚è¢«å‘é€åï¼Œä»æœåŠ¡å™¨ç«¯è¿”å›æ–‡æœ¬ã€‚

- **responseType**ï¼šä¸€ä¸ªæšä¸¾å­—ç¬¦ä¸²å€¼ï¼Œç”¨äºæŒ‡å®šå“åº”ä¸­åŒ…å«çš„æ•°æ®ç±»å‹ã€‚

- **responseURL**ï¼šåªè¯»å±æ€§ï¼Œè¿”å›å“åº”çš„åºåˆ—åŒ– URLï¼Œå¦‚æœ URL ä¸ºç©ºåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚å¦‚æœ URL æœ‰é”šç‚¹ï¼Œåˆ™ä½äº URL # åé¢çš„å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœ URL æœ‰é‡å®šå‘ï¼Œ`responseURL` çš„å€¼ä¼šæ˜¯ç»è¿‡å¤šæ¬¡é‡å®šå‘åçš„æœ€ç»ˆ URLã€‚

- **responseXML**ï¼šåªè¯»å±æ€§ï¼Œå“åº”çš„å…·ä½“å†…å®¹æ˜¯æ–‡æ¡£ã€‚

- **timeout** æŒ‡å®šè¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œä¸€ä¸ªæ— ç¬¦å·é•¿æ•´å‹æ•°ï¼Œé»˜è®¤ä¸º 0 ä»£è¡¨æ²¡æœ‰é™åˆ¶ã€‚

- **upload**ï¼šç”¨æ¥è¡¨ç¤ºä¸Šä¼ çš„è¿›åº¦ã€‚è¿™ä¸ªå¯¹è±¡æ˜¯ä¸é€æ˜çš„ï¼Œå¯ä»¥é€šè¿‡å¯¹å…¶ç»‘å®šäº‹ä»¶æ¥è¿½è¸ªå®ƒçš„è¿›åº¦ã€‚

  å¯ä»¥è¢«ç»‘å®šåœ¨ upload å¯¹è±¡ä¸Šçš„äº‹ä»¶ç›‘å¬å™¨å¦‚ä¸‹ï¼š

  | äº‹ä»¶          | ç›¸åº”å±æ€§çš„ä¿¡æ¯ç±»å‹               |
  | :------------ | :------------------------------- |
  | `onloadstart` | è·å–å¼€å§‹                         |
  | `onprogress`  | æ•°æ®ä¼ è¾“è¿›è¡Œä¸­                   |
  | `onabort`     | è·å–æ“ä½œç»ˆæ­¢                     |
  | `onerror`     | è·å–å¤±è´¥                         |
  | `onload`      | è·å–æˆåŠŸ                         |
  | `ontimeout`   | è·å–æ“ä½œåœ¨ç”¨æˆ·è§„å®šçš„æ—¶é—´å†…æœªå®Œæˆ |
  | `onloadend`   | è·å–å®Œæˆï¼ˆä¸è®ºæˆåŠŸä¸å¦ï¼‰         |

### å®ä¾‹æ–¹æ³•

- **`XMLHttpRequest()`** åˆ›å»º XHR å¯¹è±¡çš„æ„é€ å‡½æ•°

  ```js
  const xhr = new XMLHttpRequest()
  ```

- **`open(è¯·æ±‚æ–¹å¼, url)`** åˆå§‹åŒ–ä¸€ä¸ªè¯·æ±‚ï¼Œå‚æ•°ä¸ºï¼š(method, url [, async])

  ```js
  xhr.open('GET', 'http://127.0.0.1:8000/server?a=100&b=200')
  ```

- **`send(data)`** å‘é€è¯·æ±‚

  ```js
  xhr.send()
  ```

- **`abort()`** ä¸­æ–­è¯·æ±‚ ï¼ˆå‘å‡ºåˆ°è¿”å›ä¹‹é—´ï¼‰

  ```js
  xhr.abort()
  ```

- **`setRequestHeader(name, value)`** è®¾ç½®è¯·æ±‚å¤´

- getResponseHeader(name) è·å–æŒ‡å®šåç§°çš„å“åº”å¤´å€¼

- getAllResponseHeaders() è·å–æ‰€æœ‰å“åº”å¤´ç»„æˆçš„å­—ç¬¦ä¸²

### äº‹ä»¶

- **readystatechange**ï¼šåªè¦ `readyState` å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œå›è°ƒå‡½æ•°å°±ä¼šè§¦å‘

  ```js
  xhr.onreadystatechange = callback
  ```

- **loadstart**ï¼šå½“ç¨‹åºå¼€å§‹åŠ è½½æ—¶ï¼Œloadstart äº‹ä»¶å°†è¢«è§¦å‘ã€‚

- **progress**ï¼š`progress`äº‹ä»¶ä¼šåœ¨è¯·æ±‚æ¥æ”¶åˆ°æ•°æ®çš„æ—¶å€™è¢«å‘¨æœŸæ€§è§¦å‘ã€‚

- **abort**ï¼šå½“ä¸€ä¸ªè¯·æ±‚ç»ˆæ­¢æ—¶ `abort` äº‹ä»¶è¢«è§¦å‘ã€‚

- **error**ï¼šå½“è¯·æ±‚é‡åˆ°é”™è¯¯æ—¶ï¼Œå°†è§¦å‘`error` äº‹ä»¶ã€‚

- **load**ï¼šå½“ä¸€ä¸ª`XMLHttpRequest`è¯·æ±‚å®Œæˆçš„æ—¶å€™ä¼šè§¦å‘`load` äº‹ä»¶ã€‚

- **timeout**ï¼šå½“è¿›åº¦ç”±äºé¢„å®šæ—¶é—´åˆ°æœŸè€Œç»ˆæ­¢æ—¶ï¼Œä¼šè§¦å‘ `timeout` äº‹ä»¶ã€‚

- **loadend**ï¼šåœ¨ä¸€ä¸ªèµ„æºçš„åŠ è½½è¿›åº¦åœæ­¢ä¹‹åè¢«è§¦å‘



## 4.AJAX çš„ä½¿ç”¨

### æœåŠ¡ç«¯æ­å»º

1. å®‰è£… [Node.js](http://nodejs.cn/)

2. å®‰è£… [express](https://www.expressjs.com.cn/)ï¼ˆ**æœåŠ¡ç«¯æ¡†æ¶**ï¼‰


> 1. åˆå§‹åŒ–ç¯å¢ƒ
>
>    ```bash
>    npm init --yes
>    ```
>
> 2. ä¸‹è½½ express åŒ…
>
>    ```bash
>    npm i express
>    ```
>
> 3. ç¼–å†™æœåŠ¡ç«¯çš„ js ä»£ç 
>
>    ```javascript
>    // server.js
>    const express = require('express')	// 1. å¼•å…¥express
>    const app = express()	// 2. åˆ›å»ºåº”ç”¨å¯¹è±¡
>    
>    // 3. åˆ›å»ºè·¯ç”±è§„åˆ™
>    // requestæ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…å¯¹è±¡ï¼Œresponseæ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…å¯¹è±¡
>    app.get('/', (request, response) => {
>        response.setHeader('Access-Control-Allow-Origin', '*') // è®¾ç½®å“åº”å¤´ï¼Œè®¾ç½®å…è®¸è·¨åŸŸ
>    	response.send("Hello Express") // è®¾ç½®å“åº”æ•°æ®
>    });
>    
>    // 4. ç›‘å¬ç«¯å£ï¼Œå¯åŠ¨æœåŠ¡
>    app.listen(8000, () => {
>    	console.log("æœåŠ¡å·²ç»å¯åŠ¨, 8000 ç«¯å£ç›‘å¬ä¸­...")
>     })
>    ```
>
> 4. è¿è¡Œ js ç¨‹åº
>
>   ```shell
> node .\server.js
>   ```
>
> 5. ä½¿ç”¨ nodemon è‡ªåŠ¨é‡å¯å·¥å…·
>
>   ```shell
> npx nodemon .\server.js
>   ```
>
>   http://127.0.0.1:8000/server

### æ ¸å¿ƒå¯¹è±¡

**XMLHttpRequestï¼ˆXHRï¼‰**ï¼Œè¯¥å¯¹è±¡ç”¨äºä¸æœåŠ¡å™¨äº¤äº’ï¼Œé€šè¿‡å®ƒï¼Œå¯ä»¥ **è¯·æ±‚æœåŠ¡å™¨ä¸Šçš„æ•°æ®èµ„æº**ã€‚

> é€šè¿‡ XMLHttpRequest å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹è¯·æ±‚ç‰¹å®š URLï¼Œè·å–æ•°æ®

### ä½¿ç”¨æ­¥éª¤

> 1. <strong style="color:#DD5145">`XMLHttpRequest()`</strong> å‡½æ•°ï¼Œåˆ›å»º xhr å¯¹è±¡
>
> 2. è°ƒç”¨<strong style="color:#DD5145">`xhr.open()`</strong> å‡½æ•°ï¼Œåˆå§‹åŒ–ä¸€ä¸ªè¯·æ±‚
>
>    `xhr.open([http method], [url], [async], [userName], [userPass])`
>
> 3. è°ƒç”¨<strong style="color:#DD5145">`xhr.send()`</strong>å‡½æ•°ï¼Œå‘é€ä¸€ä¸ªè¯·æ±‚
>
> 4. è®¾ç½®å›è°ƒå‡½æ•°ï¼Œä¸€ä¸ªå¤„ç†æœåŠ¡å™¨å“åº”çš„å‡½æ•°ï¼Œäº‹ä»¶ç›‘å¬ <strong style="color:#DD5145">`onreadystatechange`</strong>ï¼Œæ¥æ”¶å“åº”
>
> 5. è·å–å¼‚æ­¥å¯¹è±¡çš„ readyState å±æ€§ï¼šè¯¥å±æ€§å­˜æœ‰æœåŠ¡å™¨å“åº”çš„çŠ¶æ€ä¿¡æ¯ã€‚æ¯å½“ readyState æ”¹å˜æ—¶ï¼Œ onreadystatechange å‡½æ•°å°±ä¼šè¢«æ‰§è¡Œ

```js
// 1.åˆ›å»ºä¸€ä¸ª XMLHttpRequest å®ä¾‹å¯¹è±¡
const xhr = new XMLHttpRequest()

// 2.åˆå§‹åŒ–ä¸€ä¸ªè¯·æ±‚ï¼Œè®¾ç½®è¯·æ±‚æ–¹æ³•ï¼ˆGETã€POSTï¼‰å’Œ url 
xhr.open(method, url)

// å¯ä»¥è®¾ç½®è¯·æ±‚å¤´ï¼Œä¸€èˆ¬ä¸è®¾ç½®ï¼Œå¿…é¡»åœ¨ open() ä¹‹åã€send() ä¹‹å‰è°ƒç”¨ setRequestHeader()æ–¹æ³•
xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded')

// 3.å‘é€è¯·æ±‚
xhr.send()	// getè¯·æ±‚ä¸ä¼  bodyå‚æ•°ï¼Œåªæœ‰postè¯·æ±‚ä½¿ç”¨

// 4.æ¥æ”¶å“åº”
// xhr.responseXML æ¥æ”¶xmlæ ¼å¼çš„å“åº”æ•°æ®ï¼Œxhr.responseText æ¥æ”¶æ–‡æœ¬æ ¼å¼çš„å“åº”æ•°æ®
xhr.onreadystatechange = function () {
    if(xhr.readyState === 4) {
        if(xhr.status >= 200 && xhr.status < 300) {
            // å¤„ç†æœåŠ¡ç«¯è¿”å›çš„ç»“æœ
            console.log(xhr.status) // çŠ¶æ€ç 
            console.log(xhr.statusText) // çŠ¶æ€å­—ç¬¦ä¸²
            console.log(xhr.getAllResponseHeaders) // æ‰€æœ‰å“åº”å¤´
            console.log(xhr.response) // å“åº”ä½“
        }
    }
}

// å…¶ä»–
xhr.abort()  // ç»ˆæ­¢è¯¥è¯·æ±‚
```



### AJAX è¯·æ±‚çŠ¶æ€ç 

**`readyState`** å±æ€§è¿”å›ä¸€ä¸ª XMLHttpRequest ä»£ç†å½“å‰æ‰€å¤„çš„çŠ¶æ€

å¯ä»¥ç”¨æ¥æŸ¥çœ‹è¯·æ±‚çš„å½“å‰çŠ¶æ€ï¼Œä¸€ä¸ª XHR ä»£ç†æ€»æ˜¯å¤„äºä¸‹åˆ—çŠ¶æ€ä¸­çš„ä¸€ä¸ªï¼š

| å€¼    | æè¿°                                                         |
| ----- | ------------------------------------------------------------ |
| **0** | XMLHttpRequest å®ä¾‹å·²ç»ç”Ÿæˆäº†ï¼Œä½†æ˜¯ openï¼ˆï¼‰æ–¹æ³•è¿˜æ²¡æœ‰è¢«è°ƒç”¨ |
| **1** | openï¼ˆï¼‰æ–¹æ³•å·²ç»è¢«è°ƒç”¨ï¼Œå¯ä»¥ä½¿ç”¨ **setRequestHeaderï¼ˆï¼‰**ï¼Œè®¾å®š HTTP **è¯·æ±‚å¤´ä¿¡æ¯** |
| **2** | sendï¼ˆï¼‰ æ–¹æ³•å·²ç»è¢«è°ƒç”¨ï¼Œå¹¶ä¸” **å¤´ä¿¡æ¯** å’Œ **çŠ¶æ€ç ** å·²ç»å¯è·å¾— |
| **3** | æ­£åœ¨æ¥æ”¶æœåŠ¡å™¨ä¼ æ¥çš„ body éƒ¨åˆ†çš„æ•°æ®                         |
| **4** | ğŸŸ¢æœåŠ¡å™¨æ•°æ®å·²ç»å…¨éƒ¨æ¥æ”¶ï¼Œæˆ–è€…æœ¬æ¬¡æ¥æ”¶å·²ç»å¤±è´¥äº†              |



### HTTP å¸¸è§çš„çŠ¶æ€ç 

| çŠ¶æ€ç   | çŠ¶æ€å­—ç¬¦ä¸²            | è¯´æ˜                                |
| ------- | --------------------- | ----------------------------------- |
| **200** | OK                    | è¯·æ±‚æˆåŠŸã€‚ä¸€èˆ¬ç”¨äº GET ä¸ POST è¯·æ±‚ |
| **201** | Created               | å·²åˆ›å»ºã€‚æˆåŠŸè¯·æ±‚å¹¶åˆ›å»ºäº†æ–°çš„èµ„æº    |
| **401** | Unauthorized          | æœªæˆæƒ / è¯·æ±‚è¦æ±‚ç”¨æˆ·çš„èº«ä»½è®¤è¯     |
| **404** | Not Found             | æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æº  |
| **500** | Internal Server Error | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚        |



## 5.Ajax è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜

> - åœ¨ ajax å‘é€è¯·æ±‚å‰åŠ ä¸Š **`anyAjaxObj.setRequestHeader("If-Modified-Since","0")`** <br>æˆ– **`anyAjaxObj.setRequestHeader("Cache-Control","no-cache")`**
> - åœ¨ URL åé¢åŠ ä¸Šä¸€ä¸ªéšæœºæ•°ï¼š **`"fresh=" + Math.random()`**
> - åœ¨ URL åé¢åŠ ä¸Šæ—¶é—´æ“ï¼š **`"nowtime=" + new Date().getTime()`**

## 6.åŸç”Ÿ Ajax å°è£…æˆ promise

```js
function sendAjax() {
    return new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest()
        
        xhr.open('GET', 'http://127.0.0.1:8000/server?a=100&b=200')
        xhr.send()

        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status >= 200 && xhr.status < 300) {
                    resolve(xhr.response)
                } else {
                    reject(xhr.status)
                }
            }
        }
    })
}

sendAjax().then(value => {
    console.log(value)
    result.innerHTML = value
}, reason => {
    console.warn(reason)
})
```

## 7.HTTP

HTTPï¼ˆHyperText Transport Protocolï¼‰è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œåè®®è¯¦ç»†è§„å®šäº†æµè§ˆå™¨ä¸ä¸‡ç»´ç½‘æœåŠ¡å™¨ä¹‹é—´äº’ç›¸é€šä¿¡çš„è§„åˆ™

**è¯·æ±‚æŠ¥æ–‡**

```js
// è¯·æ±‚è¡Œ
POST /s?ie=utf-8 HTTP/1.1
// è¯·æ±‚å¤´
Host: atguigu.com
Cookie: name=guigu
Content-type: application/x-www-form-urlencoded
User-Agent: chrome 83
......
// ç©ºè¡Œ

// è¯·æ±‚ä½“ï¼Œ[GETè¯·æ±‚ï¼Œåˆ™å¯ä»¥ä¸ºç©º]ï¼ŒPOSTè¯·æ±‚ï¼Œå¯ä»¥ä¸ä¸ºç©º
username=admin&password=admin
```

**å“åº”æŠ¥æ–‡**

```js
// è¯·æ±‚è¡Œ
HTTP/1.1 200 OK
// è¯·æ±‚å¤´
Content-type: text/html;charset=utf-8
Content-length: 2048
Content-encoding: gzip
......
// ç©ºè¡Œ

// è¯·æ±‚ä½“
<html>
	<head></head>
	<body>
		<h1>ä½ å¥½å•Š<h1>
	</body>
</html>
```

